# æ½˜é€šè‰²å¡çˆ¬è™« (Pantone Scraper)

ä» [popfashioninfo.com](https://www.popfashioninfo.com/styles/designerbrand/) çˆ¬å–è®¾è®¡å¸ˆå“ç‰Œé¡µé¢çš„å¤§å›¾ç‰‡å’Œæ½˜é€šï¼ˆPantoneï¼‰è‰²å¡ä¿¡æ¯ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸŒ **æµè§ˆå™¨è‡ªåŠ¨åŒ–**ï¼šä½¿ç”¨ Selenium æ¨¡æ‹ŸçœŸå®æµè§ˆå™¨è¡Œä¸º
- ğŸ” **ç™»å½•æ”¯æŒ**ï¼šæ”¯æŒè´¦å·å¯†ç ç™»å½•ï¼Œå¯æ‰‹åŠ¨å¤„ç†éªŒè¯ç 
- ğŸ–¼ï¸ **å›¾ç‰‡ä¸‹è½½**ï¼šå¼‚æ­¥æ‰¹é‡ä¸‹è½½ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ 
- ğŸ¨ **è‰²å¡æå–**ï¼šè‡ªåŠ¨è¯†åˆ«å’Œæå–æ½˜é€šè‰²å·ï¼ˆå¦‚ PANTONE 19-4052 Classic Blueï¼‰
- ğŸ“Š **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒ JSON å’Œ CSV ä¸¤ç§æ ¼å¼
- ğŸ›¡ï¸ **åçˆ¬è™«ç­–ç•¥**ï¼šéšæœº User-Agentã€è¯·æ±‚å»¶è¿Ÿã€ä»£ç†æ”¯æŒ

## ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Chrome æˆ– Firefox æµè§ˆå™¨
- ç¨³å®šçš„ç½‘ç»œè¿æ¥

## å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd pantone-scraper
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰

```bash
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/macOS
source venv/bin/activate
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. é…ç½®é¡¹ç›®

å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶å¹¶æ ¹æ®éœ€è¦ä¿®æ”¹ï¼š

```bash
cp config.example.yaml config.yaml
```

## é…ç½®è¯´æ˜

ç¼–è¾‘ `config.yaml` æ–‡ä»¶ï¼š

```yaml
# ç½‘ç«™ç™»å½•ä¿¡æ¯ï¼ˆå¦‚æœéœ€è¦ç™»å½•ï¼‰
auth:
  username: "your_username"
  password: "your_password"

# çˆ¬å–è®¾ç½®
scraper:
  base_url: "https://www.popfashioninfo.com/styles/designerbrand/"
  delay_min: 2  # æœ€å°è¯·æ±‚å»¶è¿Ÿï¼ˆç§’ï¼‰
  delay_max: 5  # æœ€å¤§è¯·æ±‚å»¶è¿Ÿï¼ˆç§’ï¼‰
  timeout: 30   # è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  max_retries: 3  # æœ€å¤§é‡è¯•æ¬¡æ•°

# ä¸‹è½½è®¾ç½®
download:
  image_dir: "data/images"  # å›¾ç‰‡ä¿å­˜ç›®å½•
  output_dir: "output"      # æ•°æ®è¾“å‡ºç›®å½•
  concurrent_downloads: 3   # å¹¶å‘ä¸‹è½½æ•°

# ä»£ç†è®¾ç½®ï¼ˆå¯é€‰ï¼‰
proxy:
  enabled: false
  http: "http://127.0.0.1:7890"
  https: "http://127.0.0.1:7890"

# æµè§ˆå™¨è®¾ç½®
browser:
  headless: false  # é¦–æ¬¡è¿è¡Œå»ºè®®è®¾ä¸º false ä»¥ä¾¿æ‰‹åŠ¨å¤„ç†éªŒè¯ç 
  driver: "chrome"  # chrome æˆ– firefox
```

### ç¯å¢ƒå˜é‡

æ•æ„Ÿä¿¡æ¯ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ï¼š

```bash
export POP_USERNAME="your_username"
export POP_PASSWORD="your_password"
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
python main.py
```

### å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | ç®€å†™ | è¯´æ˜ |
|------|------|------|
| `--config` | `-c` | æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ |
| `--headless` | | æ— å¤´æ¨¡å¼è¿è¡Œï¼ˆä¸æ˜¾ç¤ºæµè§ˆå™¨çª—å£ï¼‰ |
| `--output-dir` | `-o` | æŒ‡å®šè¾“å‡ºç›®å½• |
| `--image-dir` | `-i` | æŒ‡å®šå›¾ç‰‡ä¿å­˜ç›®å½• |
| `--url` | `-u` | æŒ‡å®šè‡ªå®šä¹‰çˆ¬å–URL |
| `--no-download` | | åªè§£æé¡µé¢ï¼Œä¸ä¸‹è½½å›¾ç‰‡ |
| `--skip-login` | | è·³è¿‡ç™»å½•æ­¥éª¤ |
| `--debug` | | å¯ç”¨è°ƒè¯•æ¨¡å¼ |
| `--dry-run` | | è¯•è¿è¡Œæ¨¡å¼ |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# ä½¿ç”¨æ— å¤´æ¨¡å¼è¿è¡Œ
python main.py --headless

# æŒ‡å®šé…ç½®æ–‡ä»¶
python main.py --config my_config.yaml

# æŒ‡å®šè¾“å‡ºç›®å½•
python main.py --output-dir ./results

# åªè§£æä¸ä¸‹è½½
python main.py --no-download

# è·³è¿‡ç™»å½•
python main.py --skip-login

# è°ƒè¯•æ¨¡å¼
python main.py --debug
```

## è¾“å‡ºæ•°æ®æ ¼å¼

### JSON æ ¼å¼ (`output/pantone_data.json`)

```json
{
  "total_count": 10,
  "exported_at": "2024-01-15 10:30:00",
  "brands": [
    {
      "brand_name": "Designer Brand Name",
      "image_url": "https://example.com/image.jpg",
      "local_image_path": "data/images/image.jpg",
      "colors": [
        {
          "color_code": "19-4052",
          "color_name": "Classic Blue",
          "full_name": "PANTONE 19-4052 Classic Blue",
          "hex_value": "#0F4C81",
          "rgb": [15, 76, 129]
        }
      ],
      "page_url": "https://www.popfashioninfo.com/...",
      "scraped_at": "2024-01-15 10:30:00",
      "extra_info": {}
    }
  ]
}
```

### CSV æ ¼å¼ (`output/pantone_data.csv`)

| brand_name | image_url | local_image_path | color_codes | color_names | pantone_full_names | page_url | scraped_at |
|------------|-----------|------------------|-------------|-------------|-------------------|----------|------------|
| Brand A | https://... | data/images/... | 19-4052 | Classic Blue | PANTONE 19-4052 Classic Blue | https://... | 2024-01-15 |

## é¡¹ç›®ç»“æ„

```
pantone-scraper/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ scraper/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ browser.py        # æµè§ˆå™¨è‡ªåŠ¨åŒ–
â”‚   â”‚   â”œâ”€â”€ parser.py         # HTMLè§£æ
â”‚   â”‚   â””â”€â”€ downloader.py     # å›¾ç‰‡ä¸‹è½½å™¨
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ pantone.py        # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ config.py         # é…ç½®ç®¡ç†
â”‚       â””â”€â”€ logger.py         # æ—¥å¿—è®°å½•
â”œâ”€â”€ data/
â”‚   â””â”€â”€ images/               # ä¸‹è½½çš„å›¾ç‰‡
â”œâ”€â”€ output/                   # è¾“å‡ºæ•°æ®
â”œâ”€â”€ logs/                     # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ main.py                   # ä¸»å…¥å£
â”œâ”€â”€ requirements.txt          # Python ä¾èµ–
â”œâ”€â”€ config.yaml               # é…ç½®æ–‡ä»¶
â”œâ”€â”€ config.example.yaml       # é…ç½®ç¤ºä¾‹
â””â”€â”€ README.md                 # è¯´æ˜æ–‡æ¡£
```

## æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡è¿è¡Œ**ï¼šå»ºè®®å°† `browser.headless` è®¾ä¸º `false`ï¼Œä»¥ä¾¿æ‰‹åŠ¨å¤„ç†å¯èƒ½å‡ºç°çš„éªŒè¯ç ã€‚

2. **ç™»å½•é—®é¢˜**ï¼šå¦‚æœç½‘ç«™éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®å®Œæ•´å†…å®¹ï¼Œè¯·ç¡®ä¿åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å†™æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ã€‚

3. **è¯·æ±‚é¢‘ç‡**ï¼šä¸ºé¿å…è¢«ç½‘ç«™å°ç¦ï¼Œè¯·é€‚å½“è®¾ç½®è¯·æ±‚å»¶è¿Ÿï¼ˆ`delay_min` å’Œ `delay_max`ï¼‰ã€‚

4. **ä»£ç†ä½¿ç”¨**ï¼šå¦‚æœéœ€è¦ä½¿ç”¨ä»£ç†ï¼Œè¯·åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ç”¨å¹¶å¡«å†™ä»£ç†åœ°å€ã€‚

5. **æ•°æ®å­˜å‚¨**ï¼šä¸‹è½½çš„å›¾ç‰‡é»˜è®¤ä¿å­˜åœ¨ `data/images/` ç›®å½•ï¼Œè¯·ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´ã€‚

## å…è´£å£°æ˜

âš ï¸ **é‡è¦æç¤º**ï¼š

1. æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºä»»ä½•å•†ä¸šç›®çš„ã€‚

2. ä½¿ç”¨æœ¬å·¥å…·å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²é˜…è¯»å¹¶åŒæ„ç›®æ ‡ç½‘ç«™çš„æœåŠ¡æ¡æ¬¾å’Œä½¿ç”¨æ”¿ç­–ã€‚

3. è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ï¼Œå°Šé‡ç½‘ç«™ç‰ˆæƒå’ŒçŸ¥è¯†äº§æƒã€‚

4. çˆ¬å–çš„æ•°æ®ä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨ï¼Œè¯·å‹¿éæ³•ä¼ æ’­æˆ–å•†ä¸šåŒ–ä½¿ç”¨ã€‚

5. å¼€å‘è€…ä¸å¯¹å› ä½¿ç”¨æœ¬å·¥å…·è€Œäº§ç”Ÿçš„ä»»ä½•æ³•å¾‹è´£ä»»æˆ–æŸå¤±è´Ÿè´£ã€‚

6. å¦‚ç›®æ ‡ç½‘ç«™æ˜ç¡®ç¦æ­¢çˆ¬å–è¡Œä¸ºï¼Œè¯·ç«‹å³åœæ­¢ä½¿ç”¨æœ¬å·¥å…·ã€‚

## å¸¸è§é—®é¢˜

### Q: æµè§ˆå™¨é©±åŠ¨æ— æ³•å¯åŠ¨æ€ä¹ˆåŠï¼Ÿ

A: æœ¬é¡¹ç›®ä½¿ç”¨ `webdriver-manager` è‡ªåŠ¨ç®¡ç†æµè§ˆå™¨é©±åŠ¨ï¼Œè¯·ç¡®ä¿ï¼š
- å·²å®‰è£… Chrome æˆ– Firefox æµè§ˆå™¨
- ç½‘ç»œè¿æ¥æ­£å¸¸ï¼ˆé¦–æ¬¡è¿è¡Œéœ€è¦ä¸‹è½½é©±åŠ¨ï¼‰

### Q: å¦‚ä½•å¤„ç†éªŒè¯ç ï¼Ÿ

A: å°†é…ç½®ä¸­çš„ `headless` è®¾ä¸º `false`ï¼Œç¨‹åºä¼šåœ¨éœ€è¦æ—¶æš‚åœå¹¶æç¤ºæ‚¨æ‰‹åŠ¨å®ŒæˆéªŒè¯ç éªŒè¯ã€‚

### Q: ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢æ€ä¹ˆåŠï¼Ÿ

A: å¯ä»¥å°è¯•ï¼š
- å¢åŠ  `concurrent_downloads` çš„å€¼
- ä½¿ç”¨ä»£ç†æœåŠ¡å™¨
- å‡å° `delay_min` å’Œ `delay_max` çš„å€¼ï¼ˆæ³¨æ„ä¸è¦è®¾ç½®è¿‡å°ä»¥å…è¢«å°ç¦ï¼‰

### Q: å¦‚ä½•åªä¸‹è½½ç‰¹å®šé¡µé¢ï¼Ÿ

A: ä½¿ç”¨ `--url` å‚æ•°æŒ‡å®šç›®æ ‡é¡µé¢ï¼š
```bash
python main.py --url "https://www.popfashioninfo.com/specific-page/"
```

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
